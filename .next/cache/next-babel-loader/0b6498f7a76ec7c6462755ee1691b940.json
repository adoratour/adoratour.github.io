{"ast":null,"code":"import _Breadcrumb from \"antd/lib/breadcrumb\";\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\TripFinder\\\\packages\\\\hotel-next\\\\pages\\\\visa.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useContext } from 'react';\nimport Head from 'next/head';\nimport SectionVisaGrid from 'components/SectionVisaGrid/SectionVisaGrid';\nimport { PostPlaceholder } from 'components/UI/ContentLoader/ContentLoader';\nimport { SearchContext } from 'context/SearchProvider';\nimport GetAPIData, { Paginator, SearchedData, SearchStateKeyCheck, ProcessAPIData } from 'library/helpers/get_api_data';\nimport { getDeviceType } from 'library/helpers/get_device_type';\nimport { SINGLE_POST_PAGE } from 'settings/constant';\nimport { LISTING_PAGE_POST_LIMIT, LISTING_PAGE_COLUMN_WIDTH_WITHOUT_MAP, LISTING_PAGE_COLUMN_WIDTH_NORMAL } from 'settings/config';\nimport ListingWrapper, { PostsWrapper, SearchWrapper, BreadcrumbWrapper } from 'container/Listing/Listing.style';\nimport Sort from 'components/UI/Sort/Sort';\nimport SimSearchForm from 'container/Home/SimSearchForm/SimSearchForm';\nexport default function SimPage({\n  processedData,\n  deviceType\n}) {\n  const {\n    state,\n    dispatch\n  } = useContext(SearchContext);\n  const statekey = SearchStateKeyCheck(state);\n  const {\n    0: posts,\n    1: setPosts\n  } = useState(processedData.slice(0, LISTING_PAGE_POST_LIMIT) || []);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  useEffect(() => {\n    if (statekey === true) {\n      const newData = SearchedData(processedData);\n      setPosts(newData);\n    } else {\n      setPosts(processedData.slice(0, LISTING_PAGE_POST_LIMIT) || []);\n    }\n  }, [statekey]);\n\n  const handleLoadMore = () => {\n    setLoading(true);\n    setTimeout(() => {\n      const data = Paginator(posts, processedData, LISTING_PAGE_POST_LIMIT);\n      setPosts(data);\n      setLoading(false);\n    }, 1000);\n  };\n\n  let columnWidth = LISTING_PAGE_COLUMN_WIDTH_NORMAL;\n  return __jsx(ListingWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"D\\u1ECBch v\\u1EE5 xin Visa - Th\\u1ECB th\\u1EF1c qu\\u1ED1c t\\u1EBF\")), __jsx(BreadcrumbWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, __jsx(_Breadcrumb, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, __jsx(_Breadcrumb.Item, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, \"Trang ch\\u1EE7\")), __jsx(_Breadcrumb.Item, {\n    href: \"/tour\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, \"Visa\")))), __jsx(\"img\", {\n    src: \"https://bizweb.dktcdn.net/100/374/261/themes/747465/assets/cat-banner-2.jpg?1609693765185\",\n    alt: \"banner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), __jsx(PostsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, __jsx(SimSearchForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  })), __jsx(SearchWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, __jsx(Sort, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  })), __jsx(PostsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, __jsx(SectionVisaGrid, {\n    link: SINGLE_POST_PAGE,\n    columnWidth: columnWidth,\n    deviceType: deviceType,\n    data: posts,\n    totalItem: processedData.length,\n    limit: LISTING_PAGE_POST_LIMIT,\n    loading: loading,\n    handleLoadMore: handleLoadMore,\n    placeholder: __jsx(PostPlaceholder, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 34\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  })));\n}\nexport async function getServerSideProps(context) {\n  const {\n    req\n  } = context;\n  const apiUrl = [{\n    endpoint: 'hotel',\n    name: 'listingHotel'\n  }];\n  const pageData = await GetAPIData(apiUrl);\n  const processedData = ProcessAPIData(pageData);\n  const deviceType = getDeviceType(req);\n  return {\n    props: {\n      processedData,\n      deviceType\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/Admin/Desktop/TripFinder/packages/hotel-next/pages/visa.js"],"names":["useState","useEffect","useContext","Head","SectionVisaGrid","PostPlaceholder","SearchContext","GetAPIData","Paginator","SearchedData","SearchStateKeyCheck","ProcessAPIData","getDeviceType","SINGLE_POST_PAGE","LISTING_PAGE_POST_LIMIT","LISTING_PAGE_COLUMN_WIDTH_WITHOUT_MAP","LISTING_PAGE_COLUMN_WIDTH_NORMAL","ListingWrapper","PostsWrapper","SearchWrapper","BreadcrumbWrapper","Sort","SimSearchForm","SimPage","processedData","deviceType","state","dispatch","statekey","posts","setPosts","slice","loading","setLoading","newData","handleLoadMore","setTimeout","data","columnWidth","length","getServerSideProps","context","req","apiUrl","endpoint","name","pageData","props"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport Head from 'next/head';\r\nimport SectionVisaGrid from 'components/SectionVisaGrid/SectionVisaGrid';\r\nimport { PostPlaceholder } from 'components/UI/ContentLoader/ContentLoader';\r\nimport { SearchContext } from 'context/SearchProvider';\r\nimport GetAPIData, {\r\n    Paginator,\r\n    SearchedData,\r\n    SearchStateKeyCheck,\r\n    ProcessAPIData,\r\n} from 'library/helpers/get_api_data';\r\nimport { getDeviceType } from 'library/helpers/get_device_type';\r\nimport { SINGLE_POST_PAGE } from 'settings/constant';\r\nimport {\r\n    LISTING_PAGE_POST_LIMIT,\r\n    LISTING_PAGE_COLUMN_WIDTH_WITHOUT_MAP,\r\n    LISTING_PAGE_COLUMN_WIDTH_NORMAL\r\n} from 'settings/config';\r\nimport ListingWrapper, {\r\n    PostsWrapper,\r\n    SearchWrapper,\r\n    BreadcrumbWrapper\r\n} from 'container/Listing/Listing.style';\r\nimport Sort from 'components/UI/Sort/Sort';\r\nimport { Breadcrumb } from 'antd';\r\nimport SimSearchForm from 'container/Home/SimSearchForm/SimSearchForm';\r\n\r\n\r\nexport default function SimPage({ processedData, deviceType }) {\r\n    const { state, dispatch } = useContext(SearchContext);\r\n    const statekey = SearchStateKeyCheck(state);\r\n    const [posts, setPosts] = useState(\r\n        processedData.slice(0, LISTING_PAGE_POST_LIMIT) || []\r\n    );\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (statekey === true) {\r\n            const newData = SearchedData(processedData);\r\n            setPosts(newData);\r\n        } else {\r\n            setPosts(processedData.slice(0, LISTING_PAGE_POST_LIMIT) || []);\r\n        }\r\n    }, [statekey]);\r\n\r\n    const handleLoadMore = () => {\r\n        setLoading(true);\r\n        setTimeout(() => {\r\n            const data = Paginator(posts, processedData, LISTING_PAGE_POST_LIMIT);\r\n            setPosts(data);\r\n            setLoading(false);\r\n        }, 1000);\r\n    };\r\n\r\n    let columnWidth = LISTING_PAGE_COLUMN_WIDTH_NORMAL;\r\n\r\n    return (\r\n        <ListingWrapper>\r\n            <Head>\r\n                <title>Dịch vụ xin Visa - Thị thực quốc tế</title>\r\n            </Head>\r\n\r\n            <BreadcrumbWrapper>\r\n                <Breadcrumb>\r\n                    <Breadcrumb.Item href=\"/\">\r\n                        <span>Trang chủ</span>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/tour\">\r\n                        <span>Visa</span>\r\n                    </Breadcrumb.Item>\r\n                </Breadcrumb>\r\n            </BreadcrumbWrapper>\r\n\r\n            <img src=\"https://bizweb.dktcdn.net/100/374/261/themes/747465/assets/cat-banner-2.jpg?1609693765185\" alt=\"banner\" />\r\n\r\n            <PostsWrapper>\r\n                <SimSearchForm />\r\n            </PostsWrapper>\r\n            <SearchWrapper>\r\n                <Sort />\r\n            </SearchWrapper>\r\n\r\n            <PostsWrapper>\r\n                <SectionVisaGrid\r\n                    link={SINGLE_POST_PAGE}\r\n                    columnWidth={columnWidth}\r\n                    deviceType={deviceType}\r\n                    data={posts}\r\n                    totalItem={processedData.length}\r\n                    limit={LISTING_PAGE_POST_LIMIT}\r\n                    loading={loading}\r\n                    handleLoadMore={handleLoadMore}\r\n                    placeholder={<PostPlaceholder />}\r\n                />\r\n            </PostsWrapper>\r\n        </ListingWrapper>\r\n    );\r\n}\r\n\r\nexport async function getServerSideProps(context) {\r\n    const { req } = context;\r\n    const apiUrl = [\r\n        {\r\n            endpoint: 'hotel',\r\n            name: 'listingHotel',\r\n        },\r\n    ];\r\n    const pageData = await GetAPIData(apiUrl);\r\n    const processedData = ProcessAPIData(pageData);\r\n    const deviceType = getDeviceType(req);\r\n    return {\r\n        props: { processedData, deviceType },\r\n    };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}