{"ast":null,"code":"import _Breadcrumb from \"antd/lib/breadcrumb\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\TripFinder\\\\packages\\\\hotel-next\\\\pages\\\\blog.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useContext } from 'react';\nimport Head from 'next/head';\nimport SectionTourGrid from 'components/SectionTourGrid/SectionTourGrid';\nimport { PostPlaceholder } from 'components/UI/ContentLoader/ContentLoader';\nimport { SearchContext } from 'context/SearchProvider';\nimport { Paginator, SearchedData, SearchStateKeyCheck } from 'library/helpers/get_api_data';\nimport { SINGLE_POST_PAGE } from 'settings/constant';\nimport { LISTING_PAGE_POST_LIMIT, LISTING_PAGE_COLUMN_WIDTH_NORMAL } from 'settings/config';\nimport ListingWrapper, { PostsWrapper, SearchWrapper, BreadcrumbWrapper } from 'container/Listing/Listing.style';\nimport Sort from 'components/UI/Sort/Sort';\nimport TripSearchForm from '../container/Home/TripSearch/TripSearchForm';\nexport var __N_SSP = true;\nexport default function TravelPage({\n  processedData,\n  deviceType\n}) {\n  _s();\n\n  const _useContext = useContext(SearchContext),\n        state = _useContext.state,\n        dispatch = _useContext.dispatch;\n\n  const statekey = SearchStateKeyCheck(state);\n\n  const _useState = useState(processedData.slice(0, LISTING_PAGE_POST_LIMIT) || []),\n        posts = _useState[0],\n        setPosts = _useState[1];\n\n  const _useState2 = useState(false),\n        loading = _useState2[0],\n        setLoading = _useState2[1];\n\n  useEffect(() => {\n    if (statekey === true) {\n      const newData = SearchedData(processedData);\n      setPosts(newData);\n    } else {\n      setPosts(processedData.slice(0, LISTING_PAGE_POST_LIMIT) || []);\n    }\n  }, [statekey]);\n\n  const handleLoadMore = () => {\n    setLoading(true);\n    setTimeout(() => {\n      const data = Paginator(posts, processedData, LISTING_PAGE_POST_LIMIT);\n      setPosts(data);\n      setLoading(false);\n    }, 1000);\n  };\n\n  let columnWidth = LISTING_PAGE_COLUMN_WIDTH_NORMAL;\n  return __jsx(ListingWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"Tour du l\\u1ECBch tr\\u1ECDn g\\xF3i\")), __jsx(BreadcrumbWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, __jsx(_Breadcrumb, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, __jsx(_Breadcrumb.Item, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Trang ch\\u1EE7\")), __jsx(_Breadcrumb.Item, {\n    href: \"/tour\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Blog\")))), __jsx(\"img\", {\n    src: \"https://bizweb.dktcdn.net/100/374/261/themes/747465/assets/cat-banner-2.jpg?1609693765185\",\n    alt: \"banner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), __jsx(PostsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, __jsx(TripSearchForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  })), __jsx(SearchWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, __jsx(Sort, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  })), __jsx(PostsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, __jsx(SectionTourGrid, {\n    link: SINGLE_POST_PAGE,\n    columnWidth: columnWidth,\n    deviceType: deviceType,\n    data: posts,\n    totalItem: processedData.length,\n    limit: LISTING_PAGE_POST_LIMIT,\n    loading: loading,\n    handleLoadMore: handleLoadMore,\n    placeholder: __jsx(PostPlaceholder, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 24\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  })));\n}\n\n_s(TravelPage, \"zzuO17LUb5nyNt9kCh7F2q4eO/4=\");\n\n_c = TravelPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"TravelPage\");","map":{"version":3,"sources":["C:/Users/Admin/Desktop/TripFinder/packages/hotel-next/pages/blog.js"],"names":["useState","useEffect","useContext","Head","SectionTourGrid","PostPlaceholder","SearchContext","Paginator","SearchedData","SearchStateKeyCheck","SINGLE_POST_PAGE","LISTING_PAGE_POST_LIMIT","LISTING_PAGE_COLUMN_WIDTH_NORMAL","ListingWrapper","PostsWrapper","SearchWrapper","BreadcrumbWrapper","Sort","TripSearchForm","TravelPage","processedData","deviceType","state","dispatch","statekey","slice","posts","setPosts","loading","setLoading","newData","handleLoadMore","setTimeout","data","columnWidth","length"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport Head from 'next/head';\r\nimport SectionTourGrid from 'components/SectionTourGrid/SectionTourGrid';\r\nimport { PostPlaceholder } from 'components/UI/ContentLoader/ContentLoader';\r\nimport { SearchContext } from 'context/SearchProvider';\r\nimport GetAPIData, {\r\n  Paginator,\r\n  SearchedData,\r\n  SearchStateKeyCheck,\r\n  ProcessAPIData,\r\n} from 'library/helpers/get_api_data';\r\nimport { getDeviceType } from 'library/helpers/get_device_type';\r\nimport { SINGLE_POST_PAGE } from 'settings/constant';\r\nimport {\r\n  LISTING_PAGE_POST_LIMIT,\r\n  LISTING_PAGE_COLUMN_WIDTH_NORMAL\r\n} from 'settings/config';\r\nimport ListingWrapper, {\r\n  PostsWrapper,\r\n  SearchWrapper,\r\n  BreadcrumbWrapper\r\n} from 'container/Listing/Listing.style';\r\nimport Sort from 'components/UI/Sort/Sort';\r\nimport { Breadcrumb } from 'antd';\r\nimport TripSearchForm from '../container/Home/TripSearch/TripSearchForm';\r\n\r\n\r\nexport default function TravelPage({ processedData, deviceType }) {\r\n  const { state, dispatch } = useContext(SearchContext);\r\n  const statekey = SearchStateKeyCheck(state);\r\n  const [posts, setPosts] = useState(\r\n    processedData.slice(0, LISTING_PAGE_POST_LIMIT) || []\r\n  );\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (statekey === true) {\r\n      const newData = SearchedData(processedData);\r\n      setPosts(newData);\r\n    } else {\r\n      setPosts(processedData.slice(0, LISTING_PAGE_POST_LIMIT) || []);\r\n    }\r\n  }, [statekey]);\r\n\r\n  const handleLoadMore = () => {\r\n    setLoading(true);\r\n    setTimeout(() => {\r\n      const data = Paginator(posts, processedData, LISTING_PAGE_POST_LIMIT);\r\n      setPosts(data);\r\n      setLoading(false);\r\n    }, 1000);\r\n  };\r\n\r\n  let columnWidth = LISTING_PAGE_COLUMN_WIDTH_NORMAL;\r\n\r\n  return (\r\n    <ListingWrapper>\r\n      <Head>\r\n        <title>Tour du lịch trọn gói</title>\r\n      </Head>\r\n      <BreadcrumbWrapper>\r\n        <Breadcrumb>\r\n          <Breadcrumb.Item href=\"/\">\r\n            <span>Trang chủ</span>\r\n          </Breadcrumb.Item>\r\n          <Breadcrumb.Item href=\"/tour\">\r\n            <span>Blog</span>\r\n          </Breadcrumb.Item>\r\n        </Breadcrumb>\r\n      </BreadcrumbWrapper>\r\n\r\n      <img src=\"https://bizweb.dktcdn.net/100/374/261/themes/747465/assets/cat-banner-2.jpg?1609693765185\" alt=\"banner\" />\r\n\r\n      <PostsWrapper>\r\n        <TripSearchForm />\r\n      </PostsWrapper>\r\n      <SearchWrapper>\r\n        <Sort />\r\n      </SearchWrapper>\r\n\r\n      <PostsWrapper>\r\n        <SectionTourGrid\r\n          link={SINGLE_POST_PAGE}\r\n          columnWidth={columnWidth}\r\n          deviceType={deviceType}\r\n          data={posts}\r\n          totalItem={processedData.length}\r\n          limit={LISTING_PAGE_POST_LIMIT}\r\n          loading={loading}\r\n          handleLoadMore={handleLoadMore}\r\n          placeholder={<PostPlaceholder />}\r\n        />\r\n      </PostsWrapper>\r\n    </ListingWrapper>\r\n  );\r\n}\r\n\r\nexport async function getServerSideProps(context) {\r\n  const { req } = context;\r\n  const apiUrl = [\r\n    {\r\n      endpoint: 'hotel',\r\n      name: 'listingHotel',\r\n    },\r\n  ];\r\n  const pageData = await GetAPIData(apiUrl);\r\n  const processedData = ProcessAPIData(pageData);\r\n  const deviceType = getDeviceType(req);\r\n  return {\r\n    props: { processedData, deviceType },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}